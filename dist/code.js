!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}({6:function(e,t){(async function(){const e=await figma.clientStorage.getAsync("mixFontRules")||[];let t=[];e.length>0?e.forEach(e=>{t.includes(e.group)||t.push(e.group)}):t=["Default"];const n=await figma.clientStorage.getAsync("mixFontCurrentGroup")||"Default";let o=[],a=[],i=[];const s=await figma.listAvailableFontsAsync();for(let e of s)i.push(e.fontName.family+" "+e.fontName.style),a.includes(e.fontName.family)?o[a.indexOf(e.fontName.family)].styles.push(e.fontName.style):(a.push(e.fontName.family),o.push({name:e.fontName.family,styles:[e.fontName.style]}));return{mixFontGroups:t,mixFontCurrentGroup:n,mixFontRules:e,availableFontNames:i,fontList:o}})().then(e=>{figma.showUI(__html__,{width:300,height:330}),figma.ui.postMessage({type:"initData",data:{mixFontGroups:e.mixFontGroups,mixFontCurrentGroup:e.mixFontCurrentGroup,mixFontRules:e.mixFontRules,fontList:e.fontList}}),figma.ui.onmessage=t=>{if("syncData"===t.type){const e=t.data,n=Object.keys(e).map(t=>figma.clientStorage.setAsync(t,e[t]));Promise.all(n)}if("changeFont"===t.type){const n=t.data,o=figma.currentPage.selection.filter(e=>"TEXT"===e.type);if(0===o.length)figma.ui.postMessage({type:"showMessage",data:"Select at least 1 text layer."});else{let t=[];if(n.forEach(n=>{const o=n.family+" "+n.style;e.availableFontNames.includes(o)||t.push(o)}),t.length>0)figma.ui.postMessage({type:"showMessage",data:t.join(", ")+" is not install."});else{const e=/[\u0000-\u1EFF\u2070-\u218F\u2C60-\u2C7F\uA720–\uA7FF\uAB30–\uAB6F\uFB00–\uFB4F\uFF00–\uFFEF]+/g;Promise.all(n.map(e=>figma.loadFontAsync(e))).then(()=>{o.forEach(t=>{const o=t.characters;let a;for(t.fontName=n[1];a=e.exec(o);)t.setRangeFontName(a.index,a.index+a[0].length,n[0])})})}}}}})}});